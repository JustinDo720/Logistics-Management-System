{% extends 'base/base.html' %}

{% block title %}LMS - Product | View {% endblock %}

{% block content %}
<div class="row">
    <div class="col-12 col-md-5">
        <div class="card shadow-sm p-2 rounded border-light" style="background: #e3f2fd;">
            <div class="card-body">
              <h5 class="card-title text-center fw-bold fs-3">Inventories</h5>
              <p class="card-text">Some Search / Filter Feature Here</p>
            </div>
            <div class="card-body container">
                <ul class="list-group">
                    {% for inv in inventories %}
                        <a class="btn list-group-item list-group-item-action 
                                    d-flex justify-content-between align-items-start
                                    {% if inv.restock %}list-group-item-danger{% else %}list-group-item-success{% endif %}"
                            href="{% url 'logistics_app:update_specific_inventory' id=inv.id%}">
                            <div class="ms-2 me-auto">
                            <div class="fw-bolder">{% if inv.location %}{{ inv.location }}{% else %} Not Specified {% endif %}</div>
                                Status: {% if inv.restock %}Needs Restock!{% else %}Healthy {% endif %}
                                <br>
                                Threshold: {{ inv.stock_threshold }}
                            </div>
                            <div>
                                
                            </div>
                            
                            <span class="badge bg-primary rounded-pill">{{ inv.stock }}</span>
                        </a>
                    {% endfor %}
                </ul>
            </div>
          </div>
    </div>
    <div class="col-12 col-md-7">
        <div class="card shadow-sm p-2 rounded bg-dark text-light">
            <div class="card-body">
              <h5 class="card-title text-center fw-bold fs-3">{{ product.product_name | title }} </h5>
              <h6 class="card-subtitle mb-2 text-body-secondary">Created: {{ product.date }} </h6>
            </div>
            <div class="card-body container">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item list-group-item-info rounded-top"><b>Product SKU: </b>${{ product.sku }}</li>
                    <li class="list-group-item list-group-item-info"><b>Category: </b>{{ product.category }}</li>
                    <li class="list-group-item list-group-item-info rounded-bottom"><b>Price: </b>${{ product.price }}</li>
                </ul>
                <hr>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item list-group-item-secondary rounded-top"><b>Amount to Restock: </b>{{ amount_to_restock }}</li>
                    <li class="list-group-item list-group-item-secondary"><b>Average Quantity: </b>{{ average_stock }}</li>
                    <li class="list-group-item list-group-item-secondary"><b>Total Inventory: </b>{{ total_inv }}</li>
                    <li class="list-group-item list-group-item-secondary rounded-bottom"><b>Overall Health: </b>{{ health_check }}</li>
                </ul>
            </div>
          </div>
    </div>
</div>
{% endblock %}